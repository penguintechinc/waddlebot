# WaddleBot Redis Configuration
# Optimized for microservices with ACL support

# Network
bind 0.0.0.0
port 6379
protected-mode yes

# Persistence
appendonly yes
appendfsync everysec
dir /data

# Memory Management
maxmemory 512mb
maxmemory-policy allkeys-lru

# Security - ACL file loaded at startup
aclfile /etc/redis/users.acl

# Logging
loglevel notice

# Performance
tcp-keepalive 300
timeout 0

# Disable dangerous commands for non-admin users
# (ACL handles this per-user, but extra safety)
rename-command FLUSHALL ""
rename-command FLUSHDB ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command DEBUG ""
rename-command SLAVEOF ""
rename-command REPLICAOF ""
