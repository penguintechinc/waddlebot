apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: waddlebot-hpa
  namespace: waddlebot

# Include all HPA configurations
resources:
- receiver-modules-hpa.yaml
- router-hpa.yaml
- action-modules-hpa.yaml

# Labels applied to all resources
commonLabels:
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/part-of: waddlebot
  app.kubernetes.io/version: "1.0.0"

# Common metadata
commonAnnotations:
  description: "WaddleBot Horizontal Pod Autoscaler Configurations"
  documentation: "k8s/hpa/README.md"

# ConfigMap with HPA documentation
configMapGenerator:
- name: waddlebot-hpa-docs
  files:
  - README.md
  options:
    disableNameSuffixHash: true

# Example: to enable/disable specific modules, uncomment patches section
# Then reference in your main kustomization.yaml like:
# - path: k8s/hpa
#   edits:
#     - target:
#         kind: HorizontalPodAutoscaler
#         name: ai-interaction-hpa
#       patch: |-
#         - op: replace
#           path: /spec/maxReplicas
#           value: 4  # Override max replicas
